/**
 * betsol-ng-ui-router-styles - Load custom CSS for different routes
 * @version v0.2.2
 * @link https://github.com/betsol/ng-ui-router-styles
 * @license MIT
 *
 * @author Slava Fomin II <s.fomin@betsol.ru>
 */
!function(t,e){"use strict";function n(e,n,r,o){o.$broadcast(c+"."+l);var i=[];do{i.unshift(e),e=e.parent?n.get(e.parent):null}while(e);var u={};t.forEach(i,function(e){e.data&&e.data.css&&t.extend(u,e.data.css)}),s();var d=[];return t.forEach(u,function(t){d.push(a(t,r))}),r.all(d).then(function(){o.$broadcast(c+"."+f)})}function r(e){"string"==typeof e&&(e=[e]);var n={};return t.forEach(e,function(t,e){if("string"==typeof t)t={url:t};else if("object"==typeof t){if(!t.url)return void u("state style definition must have URL specified");t.id&&(e=t.id)}o(e)&&(e=i()),t.id=e,n[e]=t}),n}function o(t){return Number(t)===t&&t%1==0}function i(){return"@resource~"+d++}function u(t){console.log("betsol-ng-ui-router-styles: "+t)}function a(t,n){var r=n.defer();if(e.loadStylesheet)if(t.url){var o=e.loadStylesheet(t.url,function(){r.resolve()});v.push(o)}else r.resolve();else u("betsol-load-stylesheet module must be loaded"),r.reject();return r.promise}function s(){t.forEach(v,function(t){t.remove()}),v=[]}var c="uiRouterStyles",l="loadingStarted",f="loadingFinished",d=1,v=[],h=null;t.module("betsol.uiRouterStyles",["ui.router"]).config(["$stateProvider","$provide",function(e,o){e.decorator("data",function(t,e){var n=e(t);return n&&void 0!==n.css&&(n.css=r(n.css)),n}),e.decorator("resolve",function(t,e){function r(e,r,o){if(h&&h.name==t.name)return n(t,e,r,o)}r.$inject=["$state","$q","$rootScope"];var o=e?e(t):t.resolve||{};return o["@loadStyles"]=r,o}),o.decorator("$state",["$delegate",function(e){var n=e.transitionTo;return e.transitionTo=function(){return arguments[2]=t.extend({reload:!0},arguments[2]),n.apply(n,arguments)},e}])}]).run(["$rootScope",function(t){t.$on("$stateChangeStart",function(t,e){h=e})}]).provider("uiRouterStyles",function(){var t={};return{$get:function(){return t}}})}(angular,window);